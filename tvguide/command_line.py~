from tvguide import *


if __name__== "__main__":
    """ Main for command-line version, with argument parsing, then calling root functions"""
    import argparse,sys
    parser = argparse.ArgumentParser()
    parser.add_argument("--source",type=str,default=None,help="Input a single source",default=)
    parser.add_argument("--infile",type=str,default=None,help="Input a csv file of sources")
    parser.add_argument("--outfile",type=str,default=None,help="Output a csv file of sources")

    if source is None and infile is None:
        print("USAGE:  tvguide [--source=] [--infile=]\n\nwhere the source string can be a name (e.g., 'Cyg X-1'), a pair of (RA,DEC) coordinates in decimal, (e.g., '101.295, -16.699'), a pair of (RA,DEC) coordinates in sexagesimal (e.g., '6 45 10.8, -16 41 58'), or a TIC ID (e.g., '268644785').\n")


    elif source is not None:
        inName, inRA, inDEC = parse_NameRaDec(source)
        args=Namespace(ra=[float(inRA)],dec=[float(inDEC)])
        try:
            outlst=view(args.ra[0],args.dec[0],quiet=False)
        except Exception as e:
            print("ERROR:  tvguide's view() encountered an error:   '{}'".format(e)) 

    else:  
        print("TBD:  Call for an input file")

    return
