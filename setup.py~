#!/usr/bin/env python
 
##
##  As usual, run something like:
##  > setenv PYTHONPATH "/Users/tjaffe/space/sw/TESS/local/cgi-bin/tess/install/lib/python2.7/site-packages:${PYTHONPATH}"
##  > python2.7 setup.py install --prefix=/Users/tjaffe/space/sw/TESS/local/cgi-bin/tess/install
##


# Define the Fortran extension.
from numpy.distutils.core import Extension
viewf = Extension(name="viewf",
                    sources=["tvguide2/cartesian.f",
                             "tvguide2/dcd_arg.f",
                             "tvguide2/dcd_dthm.f",
                             "tvguide2/eclip.f",
                             "tvguide2/getlun.f",
                             "tvguide2/julian.f",
                             "tvguide2/lentrim.f",
                             "tvguide2/nutate.f",
                             "tvguide2/perigee.inc",
                             "tvguide2/prec.f",
                             "tvguide2/rd_astro.f",
                             "tvguide2/rd_real.f",
                             "tvguide2/sunpos.f",
                             "tvguide2/sys.f",
                             "tvguide2/tvg_calc.f",
                             "tvguide2/tvg_init.f",
                             #"tvguide2/tvgtgt.f", # Don't want this one I think?
                             "tvguide2/upcase.f",
                             "tvguide2/wt_astro.f",
                             "tvguide2/tvguide.inc",
                             "tvguide2/tvg_secdate.f",
                             "tvguide2/view.f",
                             "tvguide2/viewf.pyf"  # The extension module created myself with "f2py -m viewf -h viewf.pyf view.f"  
                    ])


# Tell it to use all the files found in the webtess subdir
files=['*']


if __name__ == "__main__":
    from numpy.distutils.core import setup
    setup(name = 'webtess',
          version='0.1',
          description       = "Web TESS Tool",
          author            = "T. R. Jaffe",
          author_email      = "trjaffe@gmail.com",
          packages=['webtess'],
          ext_modules=[viewf],
          data_files=[('data',['data/tvgprecalc.dat'])]
    )

